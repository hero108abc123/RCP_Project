{"ast":null,"code":"// src/controllers/UsersController.js\nimport apiClient from \"../services/api-client.jsx\"; // <- import axios instance\n\nclass UserController {\n  constructor() {\n    // ✅ Data cứng\n    this.users = [{\n      id: 1,\n      username: \"admin\",\n      fullname: \"Admin\",\n      email: \"admin@example.com\",\n      role: \"Admin\"\n    }, {\n      id: 2,\n      username: \"khanhne\",\n      fullname: \"Nguyen Xuan Khanh\",\n      email: \"khanhne@gmail.com\",\n      role: \"Admin\"\n    }, {\n      id: 3,\n      username: \"user1\",\n      fullname: \"Lê Văn C\",\n      email: \"user1@example.com\",\n      role: \"User\"\n    }];\n  }\n\n  // Lấy tất cả user\n  async getAllUsers() {\n    return [...this.users]; // trả về bản sao để tránh mutate trực tiếp\n  }\n\n  // Thêm user\n  async addUser(user) {\n    const newUser = {\n      ...user,\n      id: Date.now()\n    };\n    this.users.push(newUser);\n    return newUser;\n  }\n\n  // Xóa user theo id\n  async deleteUsersByIds(ids = []) {\n    this.users = this.users.filter(u => !ids.includes(u.id));\n  }\n\n  // Cập nhật role\n  async updateRole(id, role) {\n    const index = this.users.findIndex(u => u.id === id);\n    if (index !== -1) this.users[index].role = role;\n    return this.users[index];\n  }\n}\n// class UserController {\n//   async getAllUsers() {\n//     const res = await apiClient.get(\"/api/app/user\"); // endpoint từ Swagger\n//     return res.data;\n//   }\n\n//   async addUser(user) {\n//     const res = await apiClient.post(\"/users\", user);\n//     return res.data;\n//   }\n\n//   async deleteUsersByIds(ids = []) {\n//     const promises = ids.map(id => apiClient.delete(`/users/${id}`));\n//     await Promise.all(promises);\n//   }\n\n//   async updateRole(id, role) {\n//     const res = await apiClient.put(`/users/${id}`, { role });\n//     return res.data;\n//   }\n// }\n\n// Gán instance vào biến rồi export\nconst usersControllerInstance = new UserController();\nexport default usersControllerInstance;","map":{"version":3,"names":["apiClient","UserController","constructor","users","id","username","fullname","email","role","getAllUsers","addUser","user","newUser","Date","now","push","deleteUsersByIds","ids","filter","u","includes","updateRole","index","findIndex","usersControllerInstance"],"sources":["D:/Nam 5/CĐTH/RCP_Project/frontend_web/src/controllers/UserController.jsx"],"sourcesContent":["// src/controllers/UsersController.js\nimport apiClient from \"../services/api-client.jsx\"; // <- import axios instance\n\n\nclass UserController {\n  constructor() {\n    // ✅ Data cứng\n    this.users = [\n      { id: 1, username: \"admin\", fullname: \"Admin\", email: \"admin@example.com\", role: \"Admin\" },\n      { id: 2, username: \"khanhne\", fullname: \"Nguyen Xuan Khanh\", email: \"khanhne@gmail.com\", role: \"Admin\" },\n      { id: 3, username: \"user1\", fullname: \"Lê Văn C\", email: \"user1@example.com\", role: \"User\" },\n    ];\n  }\n\n  // Lấy tất cả user\n  async getAllUsers() {\n    return [...this.users]; // trả về bản sao để tránh mutate trực tiếp\n  }\n\n  // Thêm user\n  async addUser(user) {\n    const newUser = { ...user, id: Date.now() };\n    this.users.push(newUser);\n    return newUser;\n  }\n\n  // Xóa user theo id\n  async deleteUsersByIds(ids = []) {\n    this.users = this.users.filter(u => !ids.includes(u.id));\n  }\n\n  // Cập nhật role\n  async updateRole(id, role) {\n    const index = this.users.findIndex(u => u.id === id);\n    if (index !== -1) this.users[index].role = role;\n    return this.users[index];\n  }\n}\n// class UserController {\n//   async getAllUsers() {\n//     const res = await apiClient.get(\"/api/app/user\"); // endpoint từ Swagger\n//     return res.data;\n//   }\n\n//   async addUser(user) {\n//     const res = await apiClient.post(\"/users\", user);\n//     return res.data;\n//   }\n\n//   async deleteUsersByIds(ids = []) {\n//     const promises = ids.map(id => apiClient.delete(`/users/${id}`));\n//     await Promise.all(promises);\n//   }\n\n//   async updateRole(id, role) {\n//     const res = await apiClient.put(`/users/${id}`, { role });\n//     return res.data;\n//   }\n// }\n\n// Gán instance vào biến rồi export\nconst usersControllerInstance = new UserController();\nexport default usersControllerInstance;\n"],"mappings":"AAAA;AACA,OAAOA,SAAS,MAAM,4BAA4B,CAAC,CAAC;;AAGpD,MAAMC,cAAc,CAAC;EACnBC,WAAWA,CAAA,EAAG;IACZ;IACA,IAAI,CAACC,KAAK,GAAG,CACX;MAAEC,EAAE,EAAE,CAAC;MAAEC,QAAQ,EAAE,OAAO;MAAEC,QAAQ,EAAE,OAAO;MAAEC,KAAK,EAAE,mBAAmB;MAAEC,IAAI,EAAE;IAAQ,CAAC,EAC1F;MAAEJ,EAAE,EAAE,CAAC;MAAEC,QAAQ,EAAE,SAAS;MAAEC,QAAQ,EAAE,mBAAmB;MAAEC,KAAK,EAAE,mBAAmB;MAAEC,IAAI,EAAE;IAAQ,CAAC,EACxG;MAAEJ,EAAE,EAAE,CAAC;MAAEC,QAAQ,EAAE,OAAO;MAAEC,QAAQ,EAAE,UAAU;MAAEC,KAAK,EAAE,mBAAmB;MAAEC,IAAI,EAAE;IAAO,CAAC,CAC7F;EACH;;EAEA;EACA,MAAMC,WAAWA,CAAA,EAAG;IAClB,OAAO,CAAC,GAAG,IAAI,CAACN,KAAK,CAAC,CAAC,CAAC;EAC1B;;EAEA;EACA,MAAMO,OAAOA,CAACC,IAAI,EAAE;IAClB,MAAMC,OAAO,GAAG;MAAE,GAAGD,IAAI;MAAEP,EAAE,EAAES,IAAI,CAACC,GAAG,CAAC;IAAE,CAAC;IAC3C,IAAI,CAACX,KAAK,CAACY,IAAI,CAACH,OAAO,CAAC;IACxB,OAAOA,OAAO;EAChB;;EAEA;EACA,MAAMI,gBAAgBA,CAACC,GAAG,GAAG,EAAE,EAAE;IAC/B,IAAI,CAACd,KAAK,GAAG,IAAI,CAACA,KAAK,CAACe,MAAM,CAACC,CAAC,IAAI,CAACF,GAAG,CAACG,QAAQ,CAACD,CAAC,CAACf,EAAE,CAAC,CAAC;EAC1D;;EAEA;EACA,MAAMiB,UAAUA,CAACjB,EAAE,EAAEI,IAAI,EAAE;IACzB,MAAMc,KAAK,GAAG,IAAI,CAACnB,KAAK,CAACoB,SAAS,CAACJ,CAAC,IAAIA,CAAC,CAACf,EAAE,KAAKA,EAAE,CAAC;IACpD,IAAIkB,KAAK,KAAK,CAAC,CAAC,EAAE,IAAI,CAACnB,KAAK,CAACmB,KAAK,CAAC,CAACd,IAAI,GAAGA,IAAI;IAC/C,OAAO,IAAI,CAACL,KAAK,CAACmB,KAAK,CAAC;EAC1B;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAME,uBAAuB,GAAG,IAAIvB,cAAc,CAAC,CAAC;AACpD,eAAeuB,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}