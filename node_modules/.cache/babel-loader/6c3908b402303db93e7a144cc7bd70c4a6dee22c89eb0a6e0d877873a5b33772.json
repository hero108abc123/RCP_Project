{"ast":null,"code":"var _s = $RefreshSig$();\n// src/controllers/useUsersController.js\nimport { useEffect, useState } from \"react\";\nimport * as UserModel from \"../models/user.model\";\nexport const useUsersController = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [selected, setSelected] = useState([]);\n  useEffect(() => {\n    loadUsers();\n  }, []);\n  const loadUsers = async () => {\n    const data = await UserModel.getAllUsers();\n    setUsers(data);\n  };\n  const toggleSelect = id => {\n    setSelected(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);\n  };\n  const deleteSelected = async () => {\n    await UserModel.deleteUsersByIds(selected);\n    setSelected([]);\n    loadUsers();\n  };\n  const changeRole = async (id, role) => {\n    await UserModel.updateUserRole(id, role);\n    loadUsers();\n  };\n  const selectAll = checked => {\n    setSelected(checked ? users.map(u => u.id) : []);\n  };\n  return {\n    users,\n    selected,\n    toggleSelect,\n    deleteSelected,\n    changeRole,\n    selectAll\n  };\n};\n_s(useUsersController, \"sItMyvSRyN8WNIKVlDbESql2A9w=\");","map":{"version":3,"names":["useEffect","useState","UserModel","useUsersController","_s","users","setUsers","selected","setSelected","loadUsers","data","getAllUsers","toggleSelect","id","prev","includes","filter","x","deleteSelected","deleteUsersByIds","changeRole","role","updateUserRole","selectAll","checked","map","u"],"sources":["D:/Nam 5/CÄTH/RCP_Project/frontend_web/src/controllers/UserController.jsx"],"sourcesContent":["// src/controllers/useUsersController.js\nimport { useEffect, useState } from \"react\";\nimport * as UserModel from \"../models/user.model\";\n\nexport const useUsersController = () => {\n  const [users, setUsers] = useState([]);\n  const [selected, setSelected] = useState([]);\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const loadUsers = async () => {\n    const data = await UserModel.getAllUsers();\n    setUsers(data);\n  };\n\n  const toggleSelect = (id) => {\n    setSelected(prev =>\n      prev.includes(id)\n        ? prev.filter(x => x !== id)\n        : [...prev, id]\n    );\n  };\n\n  const deleteSelected = async () => {\n    await UserModel.deleteUsersByIds(selected);\n    setSelected([]);\n    loadUsers();\n  };\n\n  const changeRole = async (id, role) => {\n    await UserModel.updateUserRole(id, role);\n    loadUsers();\n  };\n\n  const selectAll = (checked) => {\n    setSelected(checked ? users.map(u => u.id) : []);\n  };\n\n  return {\n    users,\n    selected,\n    toggleSelect,\n    deleteSelected,\n    changeRole,\n    selectAll\n  };\n};\n"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,KAAKC,SAAS,MAAM,sBAAsB;AAEjD,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACdS,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,IAAI,GAAG,MAAMR,SAAS,CAACS,WAAW,CAAC,CAAC;IAC1CL,QAAQ,CAACI,IAAI,CAAC;EAChB,CAAC;EAED,MAAME,YAAY,GAAIC,EAAE,IAAK;IAC3BL,WAAW,CAACM,IAAI,IACdA,IAAI,CAACC,QAAQ,CAACF,EAAE,CAAC,GACbC,IAAI,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKJ,EAAE,CAAC,GAC1B,CAAC,GAAGC,IAAI,EAAED,EAAE,CAClB,CAAC;EACH,CAAC;EAED,MAAMK,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,MAAMhB,SAAS,CAACiB,gBAAgB,CAACZ,QAAQ,CAAC;IAC1CC,WAAW,CAAC,EAAE,CAAC;IACfC,SAAS,CAAC,CAAC;EACb,CAAC;EAED,MAAMW,UAAU,GAAG,MAAAA,CAAOP,EAAE,EAAEQ,IAAI,KAAK;IACrC,MAAMnB,SAAS,CAACoB,cAAc,CAACT,EAAE,EAAEQ,IAAI,CAAC;IACxCZ,SAAS,CAAC,CAAC;EACb,CAAC;EAED,MAAMc,SAAS,GAAIC,OAAO,IAAK;IAC7BhB,WAAW,CAACgB,OAAO,GAAGnB,KAAK,CAACoB,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACb,EAAE,CAAC,GAAG,EAAE,CAAC;EAClD,CAAC;EAED,OAAO;IACLR,KAAK;IACLE,QAAQ;IACRK,YAAY;IACZM,cAAc;IACdE,UAAU;IACVG;EACF,CAAC;AACH,CAAC;AAACnB,EAAA,CA5CWD,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}